<<<<<<< HEAD
<p>medicine-edit works!</p>
=======
<h1 *ngIf="medicineEditForm" class="text-center">Sửa thông tin thuốc với ID: <b
  class="text-success">{{confirmMedicine.medicineId}}</b></h1>
<form [formGroup]="medicineEditForm" *ngIf="medicineEditForm" (ngSubmit)="updateMedicine()">
  <div class="container shadow-lg p-3 mb-5 bg-white rounded">
    <div class="row">
      <div class="col-6 my-2">
        Hình ảnh thuốc
        <img [src]="confirmMedicine.medicineImage" height="200" width="250"
             alt="ảnh thuốc {{confirmMedicine.medicineName}}">
      </div>
      <div class="col-6 my-2">
        <div class="col-13 my-2">
          Tên thuốc
          <span class="text-danger">(*)</span>
          <span *ngFor="let validation of validationMessages.medicineName">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineName').hasError(validation.type) &&
            ((medicineEditForm.get('medicineName').dirty || medicineEditForm.get('medicineName').touched || submit))">
            {{validation.message}}</span>
        </span>
          <input class="form-control" type="text" placeholder="Tên thuốc" formControlName="medicineName">
        </div>
        <div class="col-13 my-2">
          Hoạt chất
          <span class="text-danger">(*)</span>
          <span *ngFor="let validation of validationMessages.medicineActiveIngredients">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineActiveIngredients').hasError(validation.type) &&
            ((medicineEditForm.get('medicineActiveIngredients').dirty ||
            medicineEditForm.get('medicineActiveIngredients').touched || submit))">
            {{validation.message}}</span>
        </span>
          <input class="form-control" type="text" placeholder="Hoạt chất" formControlName="medicineActiveIngredients">
        </div>
        <div class="col-13 my-2">
          Nhóm thuốc
          <span class="text-danger">(*)</span>
          <span *ngFor="let validation of validationMessages.medicineType">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineType').hasError(validation.type) &&
            ((medicineEditForm.get('medicineType').dirty || medicineEditForm.get('medicineType').touched || submit))">
            {{validation.message}}</span>
        </span>
          <select class="custom-select" formControlName="medicineType" [compareWith]="compareType">
            <option disabled selected value="">--Chọn--</option>
            <option *ngFor="let item of medicineTypeList" [ngValue]="item">{{item.medicineTypeName}}</option>
          </select>
        </div>
      </div>
      <div class="col-12 my-2">
        <hr>
      </div>
      <div class="col-4 my-2">
        Đơn vị
        <span class="text-danger">(*)</span>
        <span *ngFor="let validation of validationMessages.medicineUnit">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineUnit').hasError(validation.type) &&
            ((medicineEditForm.get('medicineUnit').dirty || medicineEditForm.get('medicineUnit').touched || submit))">
            {{validation.message}}</span>
        </span>
        <select class="custom-select" formControlName="medicineUnit" [compareWith]="compareUnit">
          <option disabled selected value="">--Chọn--</option>
          <option *ngFor="let item of medicineUnitList" [ngValue]="item">{{item.medicineUnitName}}</option>
        </select>
      </div>
      <div class="col-4 my-2">
        Đơn vị quy đổi
        <span class="text-danger">(*)</span>
        <span *ngFor="let validation of validationMessages.medicineConversionUnit">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineConversionUnit').hasError(validation.type) &&
            ((medicineEditForm.get('medicineConversionUnit').dirty ||
            medicineEditForm.get('medicineConversionUnit').touched || submit))">
            {{validation.message}}</span>
        </span>
        <select class="custom-select" formControlName="medicineConversionUnit" [compareWith]="compareConversionUnit">
          <option disabled selected value="">--Chọn--</option>
          <option *ngFor="let item of medicineConversionUnitList"
                  [ngValue]="item">{{item.medicineConversionUnitName}}</option>
        </select>
      </div>
      <div class="col-4 my-2">
        Tỉ lệ quy đổi
        <span class="text-danger">(*)</span>
        <span *ngFor="let validation of validationMessages.medicineConversionRate">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineConversionRate').hasError(validation.type) &&
            ((medicineEditForm.get('medicineConversionRate').dirty ||
            medicineEditForm.get('medicineConversionRate').touched || submit))">
            {{validation.message}}</span>
        </span>
        <input class="form-control" type="text" placeholder="Tỉ lệ quy đổi" formControlName="medicineConversionRate">
      </div>
      <div class="col-6 my-2">
        % Lợi nhuận xuất chẵn
        <span class="text-danger"> (*)</span>
        <span *ngFor="let validation of validationMessages.medicineWholesaleProfit">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineWholesaleProfit').hasError(validation.type) &&
            ((medicineEditForm.get('medicineWholesaleProfit').dirty ||
            medicineEditForm.get('medicineWholesaleProfit').touched || submit))">
            {{validation.message}}</span>
        </span>
        <input class="form-control" type="text" placeholder="% Lợi nhuận xuất chẵn"
               formControlName="medicineWholesaleProfit">
      </div>
      <div class="col-6 my-2">
        % Lợi nhuận xuất lẻ
        <span class="text-danger"> (*)</span>
        <span *ngFor="let validation of validationMessages.medicineRetailSaleProfit">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineRetailSaleProfit').hasError(validation.type) &&
            ((medicineEditForm.get('medicineRetailSaleProfit').dirty ||
            medicineEditForm.get('medicineRetailSaleProfit').touched || submit))">
            {{validation.message}}</span>
        </span>
        <input class="form-control" type="text" placeholder="% Lợi nhuận xuất lẻ"
               formControlName="medicineRetailSaleProfit">
      </div>
      <div class="col-6 my-2">
        Tỉ lệ chiết khấu
        <span class="text-info"> %</span>
        <span class="text-danger"> (*)</span>
        <span *ngFor="let validation of validationMessages.medicineDiscount">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineDiscount').hasError(validation.type) &&
            ((medicineEditForm.get('medicineDiscount').dirty ||
            medicineEditForm.get('medicineDiscount').touched || submit))">
            {{validation.message}}</span>
        </span>
        <input class="form-control" type="text" placeholder="Tỉ lệ chiết khấu" formControlName="medicineDiscount">
      </div>
      <div class="col-6 my-2">
        VAT
        <span class="text-info"> %</span>
        <span class="text-danger"> (*)</span>
        <span *ngFor="let validation of validationMessages.medicineTax">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineTax').hasError(validation.type) &&
            ((medicineEditForm.get('medicineTax').dirty || medicineEditForm.get('medicineTax').touched || submit))">
            {{validation.message}}</span>
        </span>
        <input class="form-control" type="text" placeholder="VAT" formControlName="medicineTax">
      </div>
      <div class="col-12 my-2">
        <hr>
      </div>
      <div class="col-6 my-2">
        Giá nhập
        <span class="text-info"> Đ/Hộp</span>
        <span class="text-danger"> (*)</span>
        <span *ngFor="let validation of validationMessages.medicineImportPrice">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineImportPrice').hasError(validation.type) &&
            ((medicineEditForm.get('medicineImportPrice').dirty ||
            medicineEditForm.get('medicineImportPrice').touched || submit))">
            {{validation.message}}</span>
        </span>
        <input class="form-control" type="text" placeholder="Giá nhập" formControlName="medicineImportPrice">
      </div>
      <div class="col-6 my-2">
        Độ tuổi
        <span class="text-danger"> (*)</span>
        <span *ngFor="let validation of validationMessages.medicineAgeApproved">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineAgeApproved').hasError(validation.type) &&
            ((medicineEditForm.get('medicineAgeApproved').dirty ||
            medicineEditForm.get('medicineAgeApproved').touched || submit))">
            {{validation.message}}</span>
        </span>
        <input class="form-control" type="text" placeholder="Độ tuổi" formControlName="medicineAgeApproved">
      </div>
      <div class="col-6 my-2">
        Nhà sản xuất
        <span class="text-danger"> (*)</span>
        <span *ngFor="let validation of validationMessages.medicineManufacture">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineManufacture').hasError(validation.type) &&
            ((medicineEditForm.get('medicineManufacture').dirty ||
            medicineEditForm.get('medicineManufacture').touched || submit))">
            {{validation.message}}</span>
        </span>
        <input class="form-control" type="text" placeholder="Nhà sản xuất" formControlName="medicineManufacture">
      </div>
      <div class="col-6 my-2">
        Xuất xứ <span class="text-danger"> (*)</span>
        <span *ngFor="let validation of validationMessages.medicineOrigin">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineOrigin').hasError(validation.type) &&
            ((medicineEditForm.get('medicineOrigin').dirty ||
            medicineEditForm.get('medicineOrigin').touched || submit))">
            {{validation.message}}</span>
        </span>
        <select class="custom-select" formControlName="medicineOrigin" [compareWith]="compareOrigin">
          <option disabled selected value="">--Chọn--</option>
          <option *ngFor="let item of medicineOriginList" [ngValue]="item">{{item.medicineOriginName}}</option>
        </select>
      </div>
      <div class="col-6 my-2">
        <div class="col-13 my-2">
          Công dụng
          <span class="text-danger"> (*)</span>
          <span *ngFor="let validation of validationMessages.medicineUsage">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineUsage').hasError(validation.type) &&
            ((medicineEditForm.get('medicineUsage').dirty || medicineEditForm.get('medicineUsage').touched || submit))">
            {{validation.message}}</span>
        </span>
          <input class="form-control" type="text" placeholder="Công dụng" formControlName="medicineUsage">
        </div>
        <div class="col-13 my-2">
          Cách sử dụng
          <span class="text-danger"> (*)</span>
          <span *ngFor="let validation of validationMessages.medicineInstruction">
          <span class="text-danger"
                *ngIf="medicineEditForm.get('medicineInstruction').hasError(validation.type) &&
            ((medicineEditForm.get('medicineInstruction').dirty ||
            medicineEditForm.get('medicineInstruction').touched || submit))">
            {{validation.message}}</span>
        </span>
          <input class="form-control" type="text" placeholder="Cách sử dụng" formControlName="medicineInstruction">
        </div>
      </div>
      <div class="col-6 my-2 d-flex justify-content-between">
        <div class="col-4 my-2">
          <label for="image">Hình Ảnh <span class="text-danger">(*):</span></label>
          <input name="image" id="image" type="file" class="file__input" (change)="showPreview($event)"
                 required="required">
          <label for="image" class="file__label">
            <i class="fa fa-upload"></i>
          </label>
        </div>
        <div class="col-8 my-2">
          <img [src]="previewImage" height="200">
        </div>
      </div>
      <div class="col-12 my-2">
        Mô tả
        <textarea class="form-control" placeholder="Mô tả" formControlName="medicineDescription"></textarea>
      </div>
      <div class="col-12 my-2">
        <h5 class="text-danger">(*) Thông tin bắt buộc</h5>
      </div>
      <div class="col-12 my-2 d-flex justify-content-center">
        <button class="btn btn-primary mx-4" [disabled]="isLoading"
                [routerLink]="['/medicine/edit',confirmMedicine.medicineId]">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
               class="bi bi-x-octagon" viewBox="0 0 16 16">
            <path
              d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z"/>
            <path
              d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
          </svg>
          Làm mới
        </button>
        <button class="btn btn-secondary mx-4" [disabled]="isLoading">
          <i class="fa fa-undo" aria-hidden="true" routerLink="/medicine/list"></i> Trở về
        </button>
        <button class="btn btn-success mx-4" [disabled]="isLoading"><i class="fa-solid fa-circle-plus"></i> Chỉnh sửa
          <span class="spinner-border spinner-border-sm" role="status" *ngIf=" isLoading">
            <span class="sr-only">Loading...</span>
          </span>
        </button>
      </div>
    </div>
  </div>
</form>
>>>>>>> develop
